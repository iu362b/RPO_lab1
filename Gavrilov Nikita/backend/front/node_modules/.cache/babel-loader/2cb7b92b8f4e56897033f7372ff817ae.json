{"ast":null,"code":"import axios from 'axios';\nimport Utils from \"../utils/Utils\";\nimport { alertActions, store } from \"../utils/Rdx\";\nconst API_URL = 'http://localhost:8081/api/v1';\nconst AUTH_URL = 'http://localhost:8081/auth';\n\nclass BackendService {\n  login(login, password) {\n    return axios.post(`${AUTH_URL}/login`, {\n      login,\n      password\n    });\n  }\n\n  logout() {\n    return axios.get(`${AUTH_URL}/logout`, {\n      headers: {\n        Authorization: Utils.getToken()\n      }\n    });\n  }\n\n}\n\naxios.interceptors.request.use(config => {\n  store.dispatch(alertActions.clear());\n  let token = Utils.getToken();\n  if (token) config.headers.Authorization = token;\n  return config;\n});\nexport default new BackendService();","map":{"version":3,"names":["axios","Utils","alertActions","store","API_URL","AUTH_URL","BackendService","login","password","post","logout","get","headers","Authorization","getToken","interceptors","request","use","config","dispatch","clear","token"],"sources":["C:/Users/ngavr/IdeaProjects/backend/front/src/services/BackendService.jsx"],"sourcesContent":["import axios from 'axios'\r\nimport Utils from \"../utils/Utils\";\r\nimport {alertActions, store} from \"../utils/Rdx\";\r\n\r\nconst API_URL = 'http://localhost:8081/api/v1'\r\nconst AUTH_URL = 'http://localhost:8081/auth'\r\n\r\nclass BackendService {\r\n\r\n    login(login, password) {\r\n        return axios.post(`${AUTH_URL}/login`, {login, password})\r\n    }\r\n\r\n    logout() {\r\n\t\treturn axios.get(`${AUTH_URL}/logout`, { headers : {Authorization : Utils.getToken()}})\r\n\t}\r\n}\r\n\r\naxios.interceptors.request.use(\r\n    config => {\r\n        store.dispatch(alertActions.clear())\r\n        let token = Utils.getToken();\r\n        if (token)\r\n            config.headers.Authorization = token;\r\n        return config;\r\n})\r\n\r\nexport default new BackendService()"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,SAAQC,YAAR,EAAsBC,KAAtB,QAAkC,cAAlC;AAEA,MAAMC,OAAO,GAAG,8BAAhB;AACA,MAAMC,QAAQ,GAAG,4BAAjB;;AAEA,MAAMC,cAAN,CAAqB;EAEjBC,KAAK,CAACA,KAAD,EAAQC,QAAR,EAAkB;IACnB,OAAOR,KAAK,CAACS,IAAN,CAAY,GAAEJ,QAAS,QAAvB,EAAgC;MAACE,KAAD;MAAQC;IAAR,CAAhC,CAAP;EACH;;EAEDE,MAAM,GAAG;IACX,OAAOV,KAAK,CAACW,GAAN,CAAW,GAAEN,QAAS,SAAtB,EAAgC;MAAEO,OAAO,EAAG;QAACC,aAAa,EAAGZ,KAAK,CAACa,QAAN;MAAjB;IAAZ,CAAhC,CAAP;EACA;;AARmB;;AAWrBd,KAAK,CAACe,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACIC,MAAM,IAAI;EACNf,KAAK,CAACgB,QAAN,CAAejB,YAAY,CAACkB,KAAb,EAAf;EACA,IAAIC,KAAK,GAAGpB,KAAK,CAACa,QAAN,EAAZ;EACA,IAAIO,KAAJ,EACIH,MAAM,CAACN,OAAP,CAAeC,aAAf,GAA+BQ,KAA/B;EACJ,OAAOH,MAAP;AACP,CAPD;AASA,eAAe,IAAIZ,cAAJ,EAAf"},"metadata":{},"sourceType":"module"}